
	list	p=16f877
	#include p16f877.inc


;----------------------------------------------------- Constants

; I/O
#define	Light0		PORTB, 0
#define	Light1		PORTB, 1
#define	Light2		PORTB, 2
#define	Light3		PORTB, 3
#define Transmit0	PORTB, 4
#define Transmit1	PORTB, 5
#define Transmit2	PORTB, 6
#define Transmit3	PORTB, 7
#define Receive0	PORTA, 0
#define	Receive1	PORTA, 1
#define DefaultTrisA	B'00000000'
#define DefaultTrisB	B'00000000'
#define DefaultTrisC	B'00000000'
#define DefaultTrisD	B'00000000'
#define DefaultTrisE	B'00000000'

	
;----------------------------------------------------- Variables

	cblock 0C
	  delayTemp1, delayTemp2, delayTemp3
	endc


;----------------------------------------------------- Main program
	org 0

	;; I/O Initialization
	bsf	STATUS, RP0	; TRIS registers in page 1
	movlw	DefaultTrisA
	movwf	TRISA
	movlw	DefaultTrisB
	movwf	TRISB
	movlw	DefaultTrisC
	movwf	TRISC
	movlw	DefaultTrisD
	movwf	TRISD
	movlw	DefaultTrisE
	movwf	TRISE
	bcf	STATUS, RP0
	clrf	PORTA		; Clear ports
	clrf	PORTB
	clrf	PORTC
	clrf	PORTD
	clrf	PORTE

blinkyloop
	bsf	LED0
	call	delay
	bcf	LED0
	
	bsf	LED1
	call	delay
	bcf	LED1

	bsf	LED2
	call	delay
	bcf	LED2

	bsf	LED3
	call	delay
	bcf	LED3

	bsf	LED2
	call	delay
	bcf	LED2

	bsf	LED1
	call	delay
	bcf	LED1

	goto	blinkyloop

delay
	movlw	0D5
	movwf	delayTemp1
delayLoop1
	movlw	0FF
	movwf	delayTemp2
delayLoop2
	movlw	0FF
	movwf	delayTemp3
delayLoop3
	decfsz	delayTemp3, f
	goto	delayLoop3
	decfsz	delayTemp2, f
	goto	delayLoop2
	decfsz	delayTemp1, f
	goto	delayLoop1
	return	
	
	end
	

